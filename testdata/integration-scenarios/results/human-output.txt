[1m[34mFlowSpec Validation Report[0m
==================================================

[1m📊 Summary Statistics[0m
  Total: 12 ServiceSpecs
  [32m✅ Success: 2[0m (16.7%)
  [31m❌ Failed: 2[0m (16.7%)
  [33m⏭️ Skipped: 8[0m (66.7%)

[36m⚡ 性能指标[0m
  处理速度: [36m75392.99[0m specs/秒
  内存使用: [36m1.87[0m MB
  并发工作线程: [36m4[0m 个
  断言评估: [36m8[0m 个
  ⏱️  执行时间: [35m159.166µs[0m
  平均处理时间: [35m32.711µs[0m/spec

[1m🔍 Detailed Results[0m
──────────────────────────────────────────────────

[36m❌ 失败的验证 (2 个)[0m
[2m[1/2][0m ❌ [1mmixedUpdateUser[0m ([31mFAILED[0m)
   ⏱️  执行时间: [2m57.459µs[0m
   🎯 匹配的 Span: [36mspan003[0m
   📊 断言统计: [1m2[0m 总计, [32m1[0m 通过, [31m1[0m 失败
   [32m✅ 前置条件:[0m [2m(1/1 通过)[0m
     [32m✅[0m Precondition assertion passed: Assertion passed: map[valid_method:map[==:[map[var:http_method] PUT]]] evaluated to true
   [31m❌ 后置条件:[0m [2m(0/1 通过)[0m
     [31m❌[0m Postcondition assertion failed in span 'mixedUpdateUser' (ID: span003)
Assertion: {"success_status":{"==":[{"var":"span.status.code"},"OK"]}}
Expected: true (type: bool)
Actual: false (type: bool)
JSONLogic Result: Expected true, Got false
Span Status: ERROR - ERROR
Relevant Span Attributes:
  http.method: PUT
  operation.id: mixedUpdateUser
Trace ID: mixed123abc456def

        [2m表达式:[0m [36m{"success_status":{"==":[{"var":"span.status.code"},"OK"]}}[0m
        [32m期望:[0m [1mtrue[0m [2m(bool)[0m
        [31m实际:[0m [1mfalse[0m [2m(bool)[0m
        [33m💡 失败原因:[0m Unknown assertion failure reason
        [36m🔍 上下文信息:[0m
          Span 名称: [36mmixedUpdateUser[0m
          Span ID: [2mspan003[0m
          状态: [31mERROR[0m - ERROR
        [33m💡 建议:[0m
          [2m1.[0m The span has an error status - consider checking if this affects the expected behavior
          [2m2.[0m Review the span attributes and trace data to ensure the assertion logic matches the actual service behavior
          [2m3.[0m Postcondition failures may indicate that the service behavior has changed or the assertion needs updating
        [2m────────────────────────────────────────[0m

[2m[2/2][0m ❌ [1mmixedDeleteUser[0m ([31mFAILED[0m)
   ⏱️  执行时间: [2m143.209µs[0m
   🎯 匹配的 Span: [36mspan004[0m
   📊 断言统计: [1m2[0m 总计, [32m1[0m 通过, [31m1[0m 失败
   [31m❌ 前置条件:[0m [2m(0/1 通过)[0m
     [31m❌[0m Precondition assertion failed in span 'mixedDeleteUser' (ID: span004)
Assertion: {"required_admin_role":{"==":[{"var":"user_role"},"admin"]}}
Expected: true (type: bool)
Actual: false (type: bool)
JSONLogic Result: Expected true, Got false
Span Status: OK - OK
Relevant Span Attributes:
  user.role: user
  operation.id: mixedDeleteUser
  http.method: DELETE
Trace ID: mixed123abc456def

        [2m表达式:[0m [36m{"required_admin_role":{"==":[{"var":"user_role"},"admin"]}}[0m
        [32m期望:[0m [1mtrue[0m [2m(bool)[0m
        [31m实际:[0m [1mfalse[0m [2m(bool)[0m
        [33m💡 失败原因:[0m Unknown assertion failure reason
        [36m🔍 上下文信息:[0m
          Span 名称: [36mmixedDeleteUser[0m
          Span ID: [2mspan004[0m
          状态: [32mOK[0m - OK
        [33m💡 建议:[0m
          [2m1.[0m Review the span attributes and trace data to ensure the assertion logic matches the actual service behavior
          [2m2.[0m Precondition failures may indicate that the service was called with unexpected input parameters
        [2m────────────────────────────────────────[0m
   [32m✅ 后置条件:[0m [2m(1/1 通过)[0m
     [32m✅[0m Postcondition assertion passed: Assertion passed: map[success_status:map[==:[map[var:span.status.code] OK]]] evaluated to true

[36m✅ 成功的验证 (2 个)[0m
[2m[1/2][0m ✅ [1mmixedCreateUser[0m ([32mSUCCESS[0m)
   ⏱️  执行时间: [2m54.292µs[0m
   🎯 匹配的 Span: [36mspan001[0m
   📊 断言统计: [1m2[0m 总计, [32m2[0m 通过, [2m0[0m 失败
   [32m✅ 前置条件:[0m [2m(1/1 通过)[0m
     [32m✅[0m Precondition assertion passed: Assertion passed: map[valid_method:map[==:[map[var:http_method] POST]]] evaluated to true
   [32m✅ 后置条件:[0m [2m(1/1 通过)[0m
     [32m✅[0m Postcondition assertion passed: Assertion passed: map[success_status:map[==:[map[var:span.status.code] OK]]] evaluated to true

[2m[2/2][0m ✅ [1mmixedGetUser[0m ([32mSUCCESS[0m)
   ⏱️  执行时间: [2m124.833µs[0m
   🎯 匹配的 Span: [36mspan002[0m
   📊 断言统计: [1m2[0m 总计, [32m2[0m 通过, [2m0[0m 失败
   [32m✅ 前置条件:[0m [2m(1/1 通过)[0m
     [32m✅[0m Precondition assertion passed: Assertion passed: map[valid_method:map[==:[map[var:http_method] GET]]] evaluated to true
   [32m✅ 后置条件:[0m [2m(1/1 通过)[0m
     [32m✅[0m Postcondition assertion passed: Assertion passed: map[success_status:map[==:[map[var:span.status.code] OK]]] evaluated to true

[36m⏭️  跳过的验证 (8 个)[0m
[2m[1/8][0m ⏭️ [1mexpectSuccessCreateUser[0m ([33mSKIPPED[0m)
   ⏱️  执行时间: [2m4.583µs[0m
   [33m🔍 未找到匹配的 Span[0m
   [36m🔗 Span 匹配:[0m
     [32m✅[0m No matching spans found for operation: expectSuccessCreateUser

[2m[2/8][0m ⏭️ [1mstrictCreateUser[0m ([33mSKIPPED[0m)
   ⏱️  执行时间: [2m4.792µs[0m
   [33m🔍 未找到匹配的 Span[0m
   [36m🔗 Span 匹配:[0m
     [32m✅[0m No matching spans found for operation: strictCreateUser

[2m[3/8][0m ⏭️ [1mmixedNonExistentOperation[0m ([33mSKIPPED[0m)
   ⏱️  执行时间: [2m875ns[0m
   [33m🔍 未找到匹配的 Span[0m
   [36m🔗 Span 匹配:[0m
     [32m✅[0m No matching spans found for operation: mixedNonExistentOperation

[2m[4/8][0m ⏭️ [1mexpectSuccessGetUser[0m ([33mSKIPPED[0m)
   ⏱️  执行时间: [2m500ns[0m
   [33m🔍 未找到匹配的 Span[0m
   [36m🔗 Span 匹配:[0m
     [32m✅[0m No matching spans found for operation: expectSuccessGetUser

[2m[5/8][0m ⏭️ [1mcreateUser[0m ([33mSKIPPED[0m)
   ⏱️  执行时间: [2m583ns[0m
   [33m🔍 未找到匹配的 Span[0m
   [36m🔗 Span 匹配:[0m
     [32m✅[0m No matching spans found for operation: createUser

[2m[6/8][0m ⏭️ [1mupdateUser[0m ([33mSKIPPED[0m)
   ⏱️  执行时间: [2m458ns[0m
   [33m🔍 未找到匹配的 Span[0m
   [36m🔗 Span 匹配:[0m
     [32m✅[0m No matching spans found for operation: updateUser

[2m[7/8][0m ⏭️ [1mstrictGetUser[0m ([33mSKIPPED[0m)
   ⏱️  执行时间: [2m458ns[0m
   [33m🔍 未找到匹配的 Span[0m
   [36m🔗 Span 匹配:[0m
     [32m✅[0m No matching spans found for operation: strictGetUser

[2m[8/8][0m ⏭️ [1mgetUser[0m ([33mSKIPPED[0m)
   ⏱️  执行时间: [2m500ns[0m
   [33m🔍 未找到匹配的 Span[0m
   [36m🔗 Span 匹配:[0m
     [32m✅[0m No matching spans found for operation: getUser

==================================================
[31m验证结果: ❌ 失败[0m ([1m2[0m 个断言失败)

[33m💡 建议:[0m
  • 检查失败的断言是否反映了实际的服务行为变化
  • 验证轨迹数据是否包含预期的 span 属性和状态
  • 考虑更新 ServiceSpec 规约以匹配新的服务行为
